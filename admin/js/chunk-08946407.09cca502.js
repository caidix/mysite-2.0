(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08946407"],{"0b94":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"login"}},[r("div",{staticClass:"login-box"},[r("el-form",{ref:"loginForm",attrs:{"label-position":e.labelPosition,model:e.formLabelAlign,autocomplete:"on",rules:e.loginRules}},[r("div",{staticClass:"title-container"},[r("h3",{staticClass:"title"},[e._v("后台登陆")])]),r("el-form-item",{attrs:{prop:"username"}},[r("span",{staticClass:"svg-container"},[r("i",{staticClass:"el-icon-user-solid"})]),r("el-input",{ref:"username",attrs:{placeholder:"用户名",name:"username",type:"text",tabindex:"1",autocomplete:"on"},model:{value:e.formLabelAlign.username,callback:function(t){e.$set(e.formLabelAlign,"username",t)},expression:"formLabelAlign.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("span",{staticClass:"svg-container"},[r("i",{staticClass:"el-icon-unlock"})]),r("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"密码",name:"password",tabindex:"2",autocomplete:"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.formLabelAlign.password,callback:function(t){e.$set(e.formLabelAlign,"password",t)},expression:"formLabelAlign.password"}}),r("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[r("i",{staticClass:"el-icon-more"})])],1),r("el-form-item",[r("el-button",{staticClass:"form-button",attrs:{type:"success"},on:{click:e.handleLogin}},[e._v("登录")])],1),r("el-form-item",[r("el-button",{staticClass:"form-button",attrs:{type:"info",plain:""},on:{click:e.handleReset}},[e._v("重置")])],1)],1)],1)])},s=[],a=r("5530"),o=(r("96cf"),r("1da1")),i={watch:{$route:{handler:function(e){var t=e.query;t&&(this.beforePath=t.redirect?t.redirect:"/index")},immediate:!0}},data:function(){var e=function(e,t,r){t.length?r():r(new Error("请输入正确的用户名!"))},t=function(e,t,r){t.length<6?r(new Error("至少输入6位以上的密码!")):r()};return{beforePath:"",labelPosition:"left",passwordType:"password",formLabelAlign:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}]}}},methods:{showPwd:function(){"password"===this.passwordType?this.passwordType="":this.passwordType="password"},handleLogin:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.loginForm.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=7;break}return t.next=3,e.$store.dispatch("user/login",Object(a["a"])({},e.formLabelAlign));case 3:n=t.sent,0===n.code?e.$router.push({path:e.beforePath}):e.$message({type:"error",message:n.message}),t.next=9;break;case 7:return console.log("error submit!!"),t.abrupt("return",!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},checkCapslock:function(){},handleReset:function(){this.formLabelAlign={username:"",password:""}}}},l=i,c=(r("ee40"),r("4ecb"),r("2877")),u=Object(c["a"])(l,n,s,!1,null,"17ac37b7",null);t["default"]=u.exports},"45c7":function(e,t,r){},"4ecb":function(e,t,r){"use strict";var n=r("45c7"),s=r.n(n);s.a},b324:function(e,t,r){},ee40:function(e,t,r){"use strict";var n=r("b324"),s=r.n(n);s.a}}]);